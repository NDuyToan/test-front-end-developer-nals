{"version":3,"file":"static/js/171.49c87059.chunk.js","mappings":"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","sources":["webpack://toan-nguyen-nals/./src/components/CardBlog/styles.module.scss?4c4f","components/CardBlog/index.tsx","webpack://toan-nguyen-nals/./src/pages/HomePage.module.scss?5436","pages/HomePage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card\":\"styles_card__8L1bb\",\"cardContent\":\"styles_cardContent__35Rc-\",\"cardImg\":\"styles_cardImg__vX6hh\",\"cardText\":\"styles_cardText__EUE60\",\"actions\":\"styles_actions__TUBwj\"};","import React from \"react\";\r\nimport { Button, Space } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport type { PropsType } from \"../../services/data\";\r\nimport styles from \"./styles.module.scss\";\r\nimport imgNotAvailable from \"../../assets/image/image-not-available.png\";\r\n\r\nconst CardBlog: React.FC<PropsType> = ({ title, srcImg, content, id }) => {\r\n  const navigate = useNavigate();\r\n\r\n  const handleEditBlog = () => {\r\n    navigate(`/edit/${id}`);\r\n  };\r\n\r\n  const goToDetailBlog = () => {\r\n    navigate(`./detail/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      <div className={styles.cardContent}>\r\n        <div className={styles.cardImg}>\r\n          <img\r\n            src={typeof srcImg !== \"string\" ? imgNotAvailable : srcImg}\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div className={styles.cardText}>\r\n          <h2 onClick={goToDetailBlog}> {title}</h2>\r\n          <p>{content}</p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.actions}>\r\n        <Space>\r\n          <Button type=\"primary\" onClick={() => handleEditBlog()}>\r\n            Edit\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardBlog;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"addNewBlog\":\"HomePage_addNewBlog__ti8Cx\",\"loading\":\"HomePage_loading__VE7Sy\",\"spin\":\"HomePage_spin__L65Wi\",\"noData\":\"HomePage_noData__hmqKf\",\"msgErr\":\"HomePage_msgErr__4RrLr\",\"note\":\"HomePage_note__vMc93\",\"filter\":\"HomePage_filter__CoRVY\"};","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Button, Pagination, Form, Input, Select, Row, Col, Space } from \"antd\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport type { PaginationProps } from \"antd\";\r\nimport CardBlog from \"../components/CardBlog\";\r\nimport type { BlogType, RequestParams } from \"../services/data\";\r\nimport type { AppDispatch, RootState } from \"../store\";\r\nimport { fetchBlogs } from \"../store/blog/slice\";\r\nimport styles from \"./HomePage.module.scss\";\r\n\r\nconst HomePage: React.FC = () => {\r\n  const TOTAL_BLOGS = 50; // because the api doesn't return the total number of blogs. So I assume that the total is 50;\r\n  const DEFAULT_PAGE = 1;\r\n  const DEFAULT_LIMIT = 10;\r\n  const { blogs, status, error } = useSelector(\r\n    (state: RootState) => state.blog\r\n  );\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const navigate = useNavigate();\r\n  const [requestParams, setRequestParams] = useState<RequestParams>({\r\n    page: DEFAULT_PAGE,\r\n    limit: DEFAULT_LIMIT,\r\n    sortBy: \"\",\r\n    order: \"\",\r\n    search: \"\",\r\n  });\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchBlogs(requestParams)).unwrap();\r\n  }, [dispatch, requestParams]);\r\n\r\n  const onChange: PaginationProps[\"onChange\"] = (pageNumber) => {\r\n    setRequestParams((prevState: RequestParams) => ({\r\n      ...prevState,\r\n      page: pageNumber,\r\n    }));\r\n  };\r\n\r\n  const onShowSizeChange: PaginationProps[\"onShowSizeChange\"] = (\r\n    current,\r\n    pageSize\r\n  ) => {\r\n    setRequestParams((prevState: RequestParams) => ({\r\n      ...prevState,\r\n      page: current,\r\n      limit: pageSize,\r\n    }));\r\n  };\r\n\r\n  const onFilter = (values: RequestParams) => {\r\n    setRequestParams((prevState: RequestParams) => ({\r\n      ...prevState,\r\n      search: values.search?.trim(),\r\n      sortBy: values.order ? \"createdAt\" : \"\",\r\n      order: values.order ? values.order : \"\",\r\n    }));\r\n  };\r\n\r\n  const onResetSearch = () => {\r\n    form.resetFields();\r\n    setRequestParams((prevState: RequestParams) => ({\r\n      ...prevState,\r\n      search: \"\",\r\n      sortBy: \"\",\r\n      order: \"\",\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <section className={styles.addNewBlog}>\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          onClick={() => {\r\n            navigate(\"/create\");\r\n          }}\r\n        >\r\n          Add new Blog\r\n        </Button>\r\n      </section>\r\n      <section className={styles.filter}>\r\n        <Form\r\n          form={form}\r\n          layout=\"inline\"\r\n          onFinish={onFilter}\r\n          style={{ width: \"100%\" }}\r\n        >\r\n          <Row style={{ width: \"100%\" }} gutter={[20, 20]}>\r\n            <Col span={24} md={{ span: 8 }}>\r\n              <Form.Item name=\"search\" style={{ width: \"100%\" }}>\r\n                <Input placeholder=\"Enter something to search\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={24} md={{ span: 8 }}>\r\n              <Form.Item name=\"order\" style={{ width: \"100%\" }} initialValue=\"\">\r\n                <Select>\r\n                  <Select.Option value=\"\">Not sort</Select.Option>\r\n                  <Select.Option value=\"asc\">\r\n                    Sort by: Date ascending\r\n                  </Select.Option>\r\n                  <Select.Option value=\"desc\">\r\n                    Sort by: Date descending\r\n                  </Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={24} md={{ span: 8 }}>\r\n              <Form.Item style={{ width: \"100%\" }}>\r\n                <Space>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    htmlType=\"submit\"\r\n                    style={{ width: \"100%\" }}\r\n                  >\r\n                    Search\r\n                  </Button>\r\n                  <Button\r\n                    danger\r\n                    style={{ width: \"100%\" }}\r\n                    onClick={onResetSearch}\r\n                  >\r\n                    Cancel Search\r\n                  </Button>\r\n                </Space>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </section>\r\n      {/* list of blog */}\r\n      <section>\r\n        {status === \"loading\" && blogs.length === 0 && (\r\n          <div className={styles.loading}></div>\r\n        )}\r\n        {!error && status !== \"loading\" && blogs.length === 0 && (\r\n          <div className={styles.noData}>\r\n            <p>No Blog available</p>\r\n            <Button type=\"primary\" size=\"large\">\r\n              Add new blog\r\n            </Button>\r\n          </div>\r\n        )}\r\n        {error && (\r\n          <div className={styles.msgErr}>\r\n            <p>{error}</p>\r\n          </div>\r\n        )}\r\n        {blogs &&\r\n          blogs.length > 0 &&\r\n          blogs?.map((blog: BlogType) => (\r\n            <CardBlog\r\n              key={blog.id}\r\n              id={blog.id}\r\n              title={blog.title}\r\n              content={blog.content}\r\n              srcImg={blog.image}\r\n            />\r\n          ))}\r\n        {blogs && blogs.length > 0 && (\r\n          <Pagination\r\n            total={TOTAL_BLOGS}\r\n            onChange={onChange}\r\n            onShowSizeChange={onShowSizeChange}\r\n            showTotal={(total, range) =>\r\n              `${range[0]}-${range[1]} of ${total} items`\r\n            }\r\n            showSizeChanger\r\n            defaultPageSize={DEFAULT_LIMIT}\r\n            defaultCurrent={DEFAULT_PAGE}\r\n            current={requestParams.page}\r\n            pageSize={requestParams.limit}\r\n          />\r\n        )}\r\n        <div className={styles.note}>\r\n          <h3>Note:</h3>\r\n          <p>\r\n            Vì API không trả về tổng số lượng blog, nên đang để mặc định tổng\r\n            blog là 50. Vì thế nếu click vào các page 4,5 có thể không có dữ\r\n            liệu.\r\n          </p>\r\n        </div>\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"],"names":["title","srcImg","content","id","navigate","useNavigate","className","styles","src","imgNotAvailable","alt","onClick","type","useSelector","state","blog","blogs","status","error","dispatch","useDispatch","useState","page","limit","sortBy","order","search","requestParams","setRequestParams","Form","form","useEffect","fetchBlogs","unwrap","size","layout","onFinish","values","prevState","trim","style","width","gutter","span","md","name","placeholder","initialValue","value","htmlType","danger","resetFields","length","map","image","total","onChange","pageNumber","onShowSizeChange","current","pageSize","showTotal","range","showSizeChanger","defaultPageSize","defaultCurrent"],"sourceRoot":""}