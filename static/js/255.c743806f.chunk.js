"use strict";(self.webpackChunktoan_nguyen_nals=self.webpackChunktoan_nguyen_nals||[]).push([[255],{1255:function(e,n,t){t.r(n),t.d(n,{default:function(){return C}});var l=t(1413),a=t(3433),i=t(9439),s=t(2791),o=t(9434),r=t(8993),c=t(6719),u=t(183),d=t(940),p=t(6517),f=t(3649),h=t(3099),m=t(2351),Z=t(7689),g=t(1287),x="UpdateBlog_updateContainer__8cx7t",j="UpdateBlog_title__aU4CL",v="UpdateBlog_note__ZS2G-",y=t(184),C=function(){var e=(0,s.useState)(!1),n=(0,i.Z)(e,2),t=n[0],C=n[1],b=(0,s.useState)([]),_=(0,i.Z)(b,2),P=_[0],w=_[1],k=r.Z.useForm(),T=(0,i.Z)(k,1)[0],U=(0,Z.s0)(),B=(0,o.I0)(),I=(0,o.v9)((function(e){return e.blog})),z=I.status,F=I.isSaving,N=(0,Z.UO)().id;(0,s.useEffect)((function(){C(void 0!==N)}),[N]),(0,s.useEffect)((function(){void 0!==N&&B((0,g.zv)(N)).unwrap().then((function(e){T.setFieldsValue(e)})).catch((function(e){c.ZP.error(e)}))}),[N,B]);var S={onRemove:function(e){var n=P.indexOf(e),t=P.slice();t.splice(n,1),w(t)},beforeUpload:function(e){var n="image/jpeg"===e.type||"image/png"===e.type;n||c.ZP.error("You can only upload JPG/PNG file!");var t=e.size/1024/1024<5;return t||c.ZP.error("Image must smaller than 5MB!"),n&&t&&w([e]),!1},fileList:P};return(0,y.jsx)(u.Z,{loading:"loading"===z,children:(0,y.jsxs)("div",{className:x,children:[t?(0,y.jsx)("h2",{className:j,children:" Edit blog"}):(0,y.jsx)("h2",{className:j,children:" Create new blog"}),(0,y.jsxs)(r.Z,{name:"updateBlog",layout:"vertical",form:T,labelCol:{span:8},wrapperCol:{span:24},onFinish:t?function(e){var n={title:e.title,content:e.content,image:P[0],id:N};B((0,g.T7)(n)).unwrap().then((function(){c.ZP.success("Edit blog successfully"),U("/")})).catch((function(e){c.ZP.error(e)}))}:function(e){var n={title:e.title,content:e.content,image:P[0]};B((0,g.We)(n)).unwrap().then((function(){c.ZP.success("Create a new blog successfully"),U("/")})).catch((function(e){c.ZP.error(e)}))},autoComplete:"off",children:[(0,y.jsx)(r.Z.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input Title!"}],children:(0,y.jsx)(d.Z,{})}),(0,y.jsx)(r.Z.Item,{label:"Content",name:"content",rules:[{required:!0,message:"Please input Content!"}],children:(0,y.jsx)(d.Z.TextArea,{rows:5})}),(0,y.jsx)(r.Z.Item,{label:"Photo",name:"image",children:(0,y.jsxs)(p.Z,(0,l.Z)((0,l.Z)({},S),{},{listType:"picture",maxCount:1,defaultFileList:(0,a.Z)(P),children:[(0,y.jsx)(f.Z,{icon:(0,y.jsx)(m.Z,{}),children:"Click to Upload"}),(0,y.jsx)("span",{className:v,children:"(You can only upload 1 photo)"})]}))}),(0,y.jsx)(r.Z.Item,{wrapperCol:{span:24},children:(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(f.Z,{type:"primary",htmlType:"submit",size:"large",loading:F,children:"Save"}),(0,y.jsx)(f.Z,{htmlType:"button",onClick:function(){T.resetFields(),w([])},size:"large",children:"Reset"}),(0,y.jsx)(f.Z,{type:"link",htmlType:"button",onClick:function(){U("/")},size:"large",children:"Go Back Home"})]})})]})]})})}}}]);
//# sourceMappingURL=255.c743806f.chunk.js.map